# 自販機のロゴからAR表示

## 機能の意義・目的

自販機のロゴを認識し、AR表示に切り替えることで、ユーザに対してインタラクティブな体験を提供します。AR技術を活用することで、ユーザは自販機のロゴを通じて新たな情報や体験を得ることができ、リコメンドアイスの選択肢を視覚的に楽しむことができます。
SNSなどでのシェアを促進し、ユーザ同士のコミュニケーションを活性化させることも目的としています。
また、一般的な自販機の利用方法とは異なる体験を提供することで、ユーザの興味を引き、購買意欲を高めることを目指しています。


## 機能概要
自販機のロゴを認識し、AR表示に切り替える機能です。AR表示に切り替えた時に、位置情報を取得し、リコメンドアイスのデータを更新します。また、各productの決められた区画ごとのSumを取得し、3Dモデルを表示します。


## サブ機能一覧
1. カメラの起動
2. カメラ画像の送信
3. ロゴ認識
4. 成功するとページをAR表示に切り替え
5. カメラの起動
6. 位置情報の取得(市町村レベル)
7. ユーザのリコメンドアイスのデータに位置情報の更新(logsテーブルのar_regions_idの更新)
8. 各productの決められた区画ごとのSumの取得
9. s3から3Dモデルの取得
10. 3Dモデルの表示


## サブ機能詳細
### 1. カメラの起動
| 項目 | 内容                     |
|------|------------------------|
| **目的** | 自販機のロゴを認識するためにカメラを起動する |
| **入力** | ユーザのカメラ画像              |
| **処理** |                        |
| **出力** | `<video>` タグにユーザの映像を表示      |
| **例外** | カメラ拒否時はモーダルで再許可を促す       |

### 2. カメラ画像の送信
| 項目 | 内容                                           |
|------|----------------------------------------------|
| **目的** | 取得した画像をバックエンドへ送信する                           |







## 関連シーケンス図
[sequence_diagrams.md#ar_vending_machine](../architecture/sequence_diagrams.md#ar_vending_machine)
