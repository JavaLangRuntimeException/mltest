# タスク一覧（言語別）

このドキュメントは、本プロジェクトで実装すべき機能を各言語・役割ごとに分類して記載しています。

---

## 開発準備
- [ ] D-01: プロジェクトディレクトリ構成の初期設計（go/, python/, frontend/, infra/など）
- [ ] D-02: .gitignore 作成（Go / Python / Node / Docker /　など）
- [ ] D-03: READMEテンプレート作成（起動手順、依存ツール、構成概要など）
- [ ] D-04: Goサーバー用 Dockerfile 作成
- [ ] D-05: Pythonサーバー用 Dockerfile 作成（requirements.txt）
- [ ] D-06: MySQL用 docker-compose.yml 作成
- [ ] D-07: 全体開発環境の docker-compose.yml（Go + Python + DB + frontend）
- [ ] D-08: .envファイル設計（DB接続情報やAPIキーなど）
- [ ] D-09: DBスキーマ設計
- [ ] D-10: migrationのためのMakefile作成

## Go（バックエンドAPIサーバー）
- [ ] G-01: Goサーバーのエントリーポイント（main.go）作成
- [ ] G-02: Echoフレームワークのセットアップ
- [ ] G-03: APIエンドポイントのルーティング基本設定(health check)
- [ ] G-04: DB接続設定（MySQL）
- [ ] G-05: 表情分析APIエンドポイントの実装
    - [ ] リクエストボディのバリデーション
    - [ ] Pythonサーバーへの画像転送
    - [ ] Pythonサーバーからのレスポンス受信
    - [ ] cookieを使用したセッション管理（作成）
    - [ ] 表情分析結果をDBのemotionテーブルに保存
    - [ ] 位置情報をGoogleAPIで住所に変換
    - [ ] 位置情報をDBのregionsテーブルに保存
    - [ ] セッションIDとリコメンドアイスID、regionsテーブルIDをrecommended_regions_id、emotionテーブルIDなどのFKをDBのlogテーブルに保存
    - [ ] S3から3DモデルのURL取得
    - [ ] レスポンスの整形（JSON形式でアイスの詳細情報とS3URLを渡す）
    - [ ] エラーハンドリング
- [ ] G-06: ロゴ分析APIエンドポイントの実装
    - [ ] リクエストボディのバリデーション
    - [ ] Pythonサーバーへの画像転送
    - [ ] Pythonサーバーからのレスポンス受信
    - [ ] レスポンスの整形（JSON形式でロゴ分析結果を返却）
    - [ ] エラーハンドリング
- [ ] G-07: リコメンドアイス取得APIエンドポイントの実装
    - [ ] リクエストボディのバリデーション(位置情報)
    - 位置情報をGoogleAPIで住所に変換
    - [ ] 位置情報をDBのregionsテーブルに保存
    - [ ] セッションIDとリコメンドアイスIDで検索をかけ、regionsテーブルIDをar_regions_idにFKとしてDBのlogテーブルに保存
    - [ ] DBから位置情報に基づいてリコメンドアイスの情報を取得（どの位置にはどのアイスのリコメンドが多いのか）
    - [ ] レスポンスの整形（JSON形式でアイスの詳細情報を返却）
    - [ ] エラーハンドリング
- [ ] G-08: CORS設定（フロントエンドからのリクエストを許可）
- [ ] G-09: ログ出力設定（リクエストログ、エラーログなど）
- [ ] G-10: ユニットテストの実装（APIエンドポイントのテスト）

---

## Python（AI処理サーバー）

- [ ] P-01: Pythonサーバーのエントリーポイント（app.py）作成
- [ ] P-02: Flaskフレームワークのセットアップ
- [ ] P-03: APIエンドポイントのルーティング基本設定(health check)
- [ ] P-04: 表情分析APIエンドポイントの実装
    - [ ] リクエストボディのバリデーション
    - [ ] base64画像のデコード処理
    - [ ] OpenCVによる顔画像前処理（顔検出、サイズ変換など）
    - [ ] DeepFaceによる感情分析
    - [ ] 感情に基づいたアイス推薦（scikit-learn + joblibモデル）
    - [ ] JSON形式でGoサーバーに返却
    - [ ] エラーハンドリング
- [ ] P-05: ロゴ分析APIエンドポイントの実装
    - [ ] リクエストボディのバリデーション
    - [ ] base64画像のデコード処理
    - [ ] OpenCVでロゴ検出処理（または画像分類）
    - [ ] 分析結果をJSON形式で返却
    - [ ] エラーハンドリング
- [ ] P-06: CORS設定（Goサーバーからのリクエストを許可）
- [ ] P-07: ログ出力設定（リクエストログ、エラーログなど）
- [ ] P-08: ユニットテストの実装（APIエンドポイントのテスト）

---

## Frontend

### 設計
- [ ] F-01: ページに持たせる機能の設計
    - [ ] トップページ
    - [ ] AR表示ページ
    - [ ] ロゴ分析ページ
    - [ ] 表情分析ページ

### デザイン
- [ ] F-02: デザインモックアップ作成（Figmaなど）
  - デザインコンポーネントの設計（ボタン、モーダル、カメラなど）
  - デザインシステムの選定（Material UI, Tailwind CSSなど）
  - カラーパレットとフォントの選定
  - レスポンシブデザインの考慮（モバイルファースト）
  - アニメーションやトランジションの設計（これは必要ない）

### Next.js or Vite（フロントエンド）
- [ ] F-03: Next.js or Viteのセットアップ
- [ ] F-04: ルーティング設定（トップページ、AR表示ページなど）
- [ ] F-05: ボタンやLoading表示などの共通UIコンポーネント作成
    - button
    - loading
    - modal
    - camera
    - navbar
    - header
    - footer
- [ ] F-06: トップページの実装
- [ ] F-07: AR表示ページの実装
    - [ ] Three.jsを使用した3Dモデルの表示
    - [ ] ジャイロセンサーを使用したAR表示
    - [ ] 位置情報の取得と表示
    - [ ] 3DモデルのAR表示時の位置情報取得
- [ ] F-08: ロゴ分析ページの実装
    - [ ] カメラ起動と画像取得
    - [ ] 取得した画像をGoサーバーにPOST
    - [ ] レスポンスに応じてAR表示ページに遷移
- [ ] F-09: 表情分析ページの実装
    - [ ] カメラ起動と画像取得
    - [ ] 位置情報の取得
    - [ ] 取得した画像と位置情報をGoサーバーにPOST
    - [ ] レスポンスに応じて3Dモデルを表示
- [ ] F-10: リコメンドアイスの詳細ページの実装（ページを分けるか要検討）
- [ ] F-11: SNSシェア機能の実装
    - [ ] Twitterシェアボタン
    - [ ] Facebookシェアボタン
    - [ ] Instagramシェアボタン

---

## 3dモデル
- [ ] M-01: アイスの3Dモデル基本の形作成
- [ ] M-02: アイスの3Dモデルのテクスチャ作成
- [ ] M-03: アイスの3Dモデルのアニメーション作成
- [ ] M-04: アイスの3Dモデルのエクスポート

---

## Infra（インフラ）
- [ ] I-01: AWS S3バケットの作成
    - [ ] 3Dモデルの保存用バケット
    - [ ] アップロード用バケット
    - [ ] アクセス権限の設定
    - [ ] CORS設定
    - [ ] IAMロールの設定
    - [ ] S3バケットポリシーの設定
- [ ] I-02: AWS VPCの作成
    - [ ] セキュリティグループの設定
    - [ ] IAMロールの設定
    - [ ] VPCピアリングの設定
    - [ ] VPCエンドポイントの設定
- [ ] I-03: AWS RDSの作成
    - [ ] MySQLインスタンスの作成
    - [ ] セキュリティグループの設定
    - [ ] IAMロールの設定
    - [ ] RDSバックアップの設定
- [ ] I-04: AWS ECSの作成
    - [ ] ECSクラスターの作成
    - [ ] ECSタスク定義の作成
    - [ ] ECSサービスの作成
    - [ ] ECSセキュリティグループの設定
    - [ ] IAMロールの設定
- [ ] I-05: AWS CloudFrontの作成
    - [ ] CloudFrontディストリビューションの作成
    - [ ] CloudFrontオリジンの設定
    - [ ] CloudFrontキャッシュポリシーの設定
    - [ ] CloudFrontセキュリティグループの設定
- [ ] I-06: AWS Route53の作成
    - [ ] ドメインの取得
    - [ ] ホストゾーンの作成
    - [ ] レコードセットの作成
    - [ ] Route53セキュリティグループの設定
- [ ] I-07: AWS IAMの作成
    - [ ] IAMユーザーの作成
    - [ ] IAMグループの作成
    - [ ] IAMポリシーの作成
    - [ ] IAMロールの作成
- [ ] I-08: AWS CloudWatchの作成
    - [ ] CloudWatchロググループの作成
    - [ ] CloudWatchアラームの作成
    - [ ] CloudWatchダッシュボードの作成
    - [ ] CloudWatchセキュリティグループの設定
- [ ] I-09: AWS APIGatewayの作成
    - [ ] API Gatewayの作成
    - [ ] API Gatewayリソースの作成
    - [ ] API Gatewayメソッドの作成
    - [ ] API Gatewayセキュリティグループの設定